var Wt=Object.create;var kt=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var Qt=Object.getOwnPropertyNames;var Bt=Object.getPrototypeOf,Xt=Object.prototype.hasOwnProperty;var $t=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var Jt=(s,e,n,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Qt(e))!Xt.call(s,r)&&r!==n&&kt(s,r,{get:()=>e[r],enumerable:!(t=Vt(e,r))||t.enumerable});return s};var Yt=(s,e,n)=>(n=s!=null?Wt(Bt(s)):{},Jt(e||!s||!s.__esModule?kt(n,"default",{value:s,enumerable:!0}):n,s));var Et=$t(()=>{"use strict";var gt;(function(s){(function(e){var n=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:_(),t=r(s);typeof n.Reflect<"u"&&(t=r(n.Reflect,t)),e(t,n),typeof n.Reflect>"u"&&(n.Reflect=s);function r(d,P){return function(g,I){Object.defineProperty(d,g,{configurable:!0,writable:!0,value:I}),P&&P(g,I)}}function u(){try{return Function("return this;")()}catch{}}function h(){try{return(0,eval)("(function() { return this; })()")}catch{}}function _(){return u()||h()}})(function(e,n){var t=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",u=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",h=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",_=typeof Object.create=="function",d={__proto__:[]}instanceof Array,P=!_&&!d,g={create:_?function(){return xe(Object.create(null))}:d?function(){return xe({__proto__:null})}:function(){return xe({})},has:P?function(a,l){return t.call(a,l)}:function(a,l){return l in a},get:P?function(a,l){return t.call(a,l)?a[l]:void 0}:function(a,l){return a[l]}},I=Object.getPrototypeOf(Function),O=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Qe(),z=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:je(),R=typeof WeakMap=="function"?WeakMap:Be(),w=r?Symbol.for("@reflect-metadata:registry"):void 0,N=He(),v=Ve(N);function p(a,l,y,E){if(D(y)){if(!S(a))throw new TypeError;if(!Q(l))throw new TypeError;return W(a,l)}else{if(!S(a))throw new TypeError;if(!ie(l))throw new TypeError;if(!ie(E)&&!D(E)&&!te(E))throw new TypeError;return te(E)&&(E=void 0),y=f(y),$(a,l,y,E)}}e("decorate",p);function i(a,l){function y(E,j){if(!ie(E))throw new TypeError;if(!D(j)&&!q(j))throw new TypeError;o(a,l,E,j)}return y}e("metadata",i);function T(a,l,y,E){if(!ie(y))throw new TypeError;return D(E)||(E=f(E)),o(a,l,y,E)}e("defineMetadata",T);function k(a,l,y){if(!ie(l))throw new TypeError;return D(y)||(y=f(y)),ye(a,l,y)}e("hasMetadata",k);function m(a,l,y){if(!ie(l))throw new TypeError;return D(y)||(y=f(y)),ue(a,l,y)}e("hasOwnMetadata",m);function F(a,l,y){if(!ie(l))throw new TypeError;return D(y)||(y=f(y)),Y(a,l,y)}e("getMetadata",F);function M(a,l,y){if(!ie(l))throw new TypeError;return D(y)||(y=f(y)),L(a,l,y)}e("getOwnMetadata",M);function se(a,l){if(!ie(a))throw new TypeError;return D(l)||(l=f(l)),c(a,l)}e("getMetadataKeys",se);function B(a,l){if(!ie(a))throw new TypeError;return D(l)||(l=f(l)),G(a,l)}e("getOwnMetadataKeys",B);function X(a,l,y){if(!ie(l))throw new TypeError;if(D(y)||(y=f(y)),!ie(l))throw new TypeError;D(y)||(y=f(y));var E=Oe(l,y,!1);return D(E)?!1:E.OrdinaryDeleteMetadata(a,l,y)}e("deleteMetadata",X);function W(a,l){for(var y=a.length-1;y>=0;--y){var E=a[y],j=E(l);if(!D(j)&&!te(j)){if(!Q(j))throw new TypeError;l=j}}return l}function $(a,l,y,E){for(var j=a.length-1;j>=0;--j){var he=a[j],pe=he(l,y,E);if(!D(pe)&&!te(pe)){if(!ie(pe))throw new TypeError;E=pe}}return E}function ye(a,l,y){var E=ue(a,l,y);if(E)return!0;var j=me(l);return te(j)?!1:ye(a,j,y)}function ue(a,l,y){var E=Oe(l,y,!1);return D(E)?!1:C(E.OrdinaryHasOwnMetadata(a,l,y))}function Y(a,l,y){var E=ue(a,l,y);if(E)return L(a,l,y);var j=me(l);if(!te(j))return Y(a,j,y)}function L(a,l,y){var E=Oe(l,y,!1);if(!D(E))return E.OrdinaryGetOwnMetadata(a,l,y)}function o(a,l,y,E){var j=Oe(y,E,!0);j.OrdinaryDefineOwnMetadata(a,l,y,E)}function c(a,l){var y=G(a,l),E=me(a);if(E===null)return y;var j=c(E,l);if(j.length<=0)return y;if(y.length<=0)return j;for(var he=new z,pe=[],ne=0,A=y;ne<A.length;ne++){var Z=A[ne],x=he.has(Z);x||(he.add(Z),pe.push(Z))}for(var H=0,re=j;H<re.length;H++){var Z=re[H],x=he.has(Z);x||(he.add(Z),pe.push(Z))}return pe}function G(a,l){var y=Oe(a,l,!1);return y?y.OrdinaryOwnMetadataKeys(a,l):[]}function V(a){if(a===null)return 1;switch(typeof a){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return a===null?1:6;default:return 6}}function D(a){return a===void 0}function te(a){return a===null}function Pe(a){return typeof a=="symbol"}function ie(a){return typeof a=="object"?a!==null:typeof a=="function"}function ve(a,l){switch(V(a)){case 0:return a;case 1:return a;case 2:return a;case 3:return a;case 4:return a;case 5:return a}var y=l===3?"string":l===5?"number":"default",E=K(a,u);if(E!==void 0){var j=E.call(a,y);if(ie(j))throw new TypeError;return j}return ke(a,y==="default"?"number":y)}function ke(a,l){if(l==="string"){var y=a.toString;if(U(y)){var E=y.call(a);if(!ie(E))return E}var j=a.valueOf;if(U(j)){var E=j.call(a);if(!ie(E))return E}}else{var j=a.valueOf;if(U(j)){var E=j.call(a);if(!ie(E))return E}var he=a.toString;if(U(he)){var E=he.call(a);if(!ie(E))return E}}throw new TypeError}function C(a){return!!a}function b(a){return""+a}function f(a){var l=ve(a,3);return Pe(l)?l:b(l)}function S(a){return Array.isArray?Array.isArray(a):a instanceof Object?a instanceof Array:Object.prototype.toString.call(a)==="[object Array]"}function U(a){return typeof a=="function"}function Q(a){return typeof a=="function"}function q(a){switch(V(a)){case 3:return!0;case 4:return!0;default:return!1}}function J(a,l){return a===l||a!==a&&l!==l}function K(a,l){var y=a[l];if(y!=null){if(!U(y))throw new TypeError;return y}}function ee(a){var l=K(a,h);if(!U(l))throw new TypeError;var y=l.call(a);if(!ie(y))throw new TypeError;return y}function ae(a){return a.value}function ce(a){var l=a.next();return l.done?!1:l}function be(a){var l=a.return;l&&l.call(a)}function me(a){var l=Object.getPrototypeOf(a);if(typeof a!="function"||a===I||l!==I)return l;var y=a.prototype,E=y&&Object.getPrototypeOf(y);if(E==null||E===Object.prototype)return l;var j=E.constructor;return typeof j!="function"||j===a?l:j}function Fe(){var a;!D(w)&&typeof n.Reflect<"u"&&!(w in n.Reflect)&&typeof n.Reflect.defineMetadata=="function"&&(a=nt(n.Reflect));var l,y,E,j=new R,he={registerProvider:pe,getProvider:A,setProvider:x};return he;function pe(H){if(!Object.isExtensible(he))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case a===H:break;case D(l):l=H;break;case l===H:break;case D(y):y=H;break;case y===H:break;default:E===void 0&&(E=new z),E.add(H);break}}function ne(H,re){if(!D(l)){if(l.isProviderFor(H,re))return l;if(!D(y)){if(y.isProviderFor(H,re))return l;if(!D(E))for(var fe=ee(E);;){var de=ce(fe);if(!de)return;var we=ae(de);if(we.isProviderFor(H,re))return be(fe),we}}}if(!D(a)&&a.isProviderFor(H,re))return a}function A(H,re){var fe=j.get(H),de;return D(fe)||(de=fe.get(re)),D(de)&&(de=ne(H,re),D(de)||(D(fe)&&(fe=new O,j.set(H,fe)),fe.set(re,de))),de}function Z(H){if(D(H))throw new TypeError;return l===H||y===H||!D(E)&&E.has(H)}function x(H,re,fe){if(!Z(fe))throw new Error("Metadata provider not registered.");var de=A(H,re);if(de!==fe){if(!D(de))return!1;var we=j.get(H);D(we)&&(we=new O,j.set(H,we)),we.set(re,fe)}return!0}}function He(){var a;return!D(w)&&ie(n.Reflect)&&Object.isExtensible(n.Reflect)&&(a=n.Reflect[w]),D(a)&&(a=Fe()),!D(w)&&ie(n.Reflect)&&Object.isExtensible(n.Reflect)&&Object.defineProperty(n.Reflect,w,{enumerable:!1,configurable:!1,writable:!1,value:a}),a}function Ve(a){var l=new R,y={isProviderFor:function(Z,x){var H=l.get(Z);return D(H)?!1:H.has(x)},OrdinaryDefineOwnMetadata:pe,OrdinaryHasOwnMetadata:j,OrdinaryGetOwnMetadata:he,OrdinaryOwnMetadataKeys:ne,OrdinaryDeleteMetadata:A};return N.registerProvider(y),y;function E(Z,x,H){var re=l.get(Z),fe=!1;if(D(re)){if(!H)return;re=new O,l.set(Z,re),fe=!0}var de=re.get(x);if(D(de)){if(!H)return;if(de=new O,re.set(x,de),!a.setProvider(Z,x,y))throw re.delete(x),fe&&l.delete(Z),new Error("Wrong provider for target.")}return de}function j(Z,x,H){var re=E(x,H,!1);return D(re)?!1:C(re.has(Z))}function he(Z,x,H){var re=E(x,H,!1);if(!D(re))return re.get(Z)}function pe(Z,x,H,re){var fe=E(H,re,!0);fe.set(Z,x)}function ne(Z,x){var H=[],re=E(Z,x,!1);if(D(re))return H;for(var fe=re.keys(),de=ee(fe),we=0;;){var mt=ce(de);if(!mt)return H.length=we,H;var Gt=ae(mt);try{H[we]=Gt}catch(zt){try{be(de)}finally{throw zt}}we++}}function A(Z,x,H){var re=E(x,H,!1);if(D(re)||!re.delete(Z))return!1;if(re.size===0){var fe=l.get(x);D(fe)||(fe.delete(H),fe.size===0&&l.delete(fe))}return!0}}function nt(a){var l=a.defineMetadata,y=a.hasOwnMetadata,E=a.getOwnMetadata,j=a.getOwnMetadataKeys,he=a.deleteMetadata,pe=new R,ne={isProviderFor:function(A,Z){var x=pe.get(A);return!D(x)&&x.has(Z)?!0:j(A,Z).length?(D(x)&&(x=new z,pe.set(A,x)),x.add(Z),!0):!1},OrdinaryDefineOwnMetadata:l,OrdinaryHasOwnMetadata:y,OrdinaryGetOwnMetadata:E,OrdinaryOwnMetadataKeys:j,OrdinaryDeleteMetadata:he};return ne}function Oe(a,l,y){var E=N.getProvider(a,l);if(!D(E))return E;if(y){if(N.setProvider(a,l,v))return v;throw new Error("Illegal state.")}}function Qe(){var a={},l=[],y=function(){function ne(A,Z,x){this._index=0,this._keys=A,this._values=Z,this._selector=x}return ne.prototype["@@iterator"]=function(){return this},ne.prototype[h]=function(){return this},ne.prototype.next=function(){var A=this._index;if(A>=0&&A<this._keys.length){var Z=this._selector(this._keys[A],this._values[A]);return A+1>=this._keys.length?(this._index=-1,this._keys=l,this._values=l):this._index++,{value:Z,done:!1}}return{value:void 0,done:!0}},ne.prototype.throw=function(A){throw this._index>=0&&(this._index=-1,this._keys=l,this._values=l),A},ne.prototype.return=function(A){return this._index>=0&&(this._index=-1,this._keys=l,this._values=l),{value:A,done:!0}},ne}(),E=function(){function ne(){this._keys=[],this._values=[],this._cacheKey=a,this._cacheIndex=-2}return Object.defineProperty(ne.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ne.prototype.has=function(A){return this._find(A,!1)>=0},ne.prototype.get=function(A){var Z=this._find(A,!1);return Z>=0?this._values[Z]:void 0},ne.prototype.set=function(A,Z){var x=this._find(A,!0);return this._values[x]=Z,this},ne.prototype.delete=function(A){var Z=this._find(A,!1);if(Z>=0){for(var x=this._keys.length,H=Z+1;H<x;H++)this._keys[H-1]=this._keys[H],this._values[H-1]=this._values[H];return this._keys.length--,this._values.length--,J(A,this._cacheKey)&&(this._cacheKey=a,this._cacheIndex=-2),!0}return!1},ne.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=a,this._cacheIndex=-2},ne.prototype.keys=function(){return new y(this._keys,this._values,j)},ne.prototype.values=function(){return new y(this._keys,this._values,he)},ne.prototype.entries=function(){return new y(this._keys,this._values,pe)},ne.prototype["@@iterator"]=function(){return this.entries()},ne.prototype[h]=function(){return this.entries()},ne.prototype._find=function(A,Z){if(!J(this._cacheKey,A)){this._cacheIndex=-1;for(var x=0;x<this._keys.length;x++)if(J(this._keys[x],A)){this._cacheIndex=x;break}}return this._cacheIndex<0&&Z&&(this._cacheIndex=this._keys.length,this._keys.push(A),this._values.push(void 0)),this._cacheIndex},ne}();return E;function j(ne,A){return ne}function he(ne,A){return A}function pe(ne,A){return[ne,A]}}function je(){var a=function(){function l(){this._map=new O}return Object.defineProperty(l.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),l.prototype.has=function(y){return this._map.has(y)},l.prototype.add=function(y){return this._map.set(y,y),this},l.prototype.delete=function(y){return this._map.delete(y)},l.prototype.clear=function(){this._map.clear()},l.prototype.keys=function(){return this._map.keys()},l.prototype.values=function(){return this._map.keys()},l.prototype.entries=function(){return this._map.entries()},l.prototype["@@iterator"]=function(){return this.keys()},l.prototype[h]=function(){return this.keys()},l}();return a}function Be(){var a=16,l=g.create(),y=E();return function(){function A(){this._key=E()}return A.prototype.has=function(Z){var x=j(Z,!1);return x!==void 0?g.has(x,this._key):!1},A.prototype.get=function(Z){var x=j(Z,!1);return x!==void 0?g.get(x,this._key):void 0},A.prototype.set=function(Z,x){var H=j(Z,!0);return H[this._key]=x,this},A.prototype.delete=function(Z){var x=j(Z,!1);return x!==void 0?delete x[this._key]:!1},A.prototype.clear=function(){this._key=E()},A}();function E(){var A;do A="@@WeakMap@@"+ne();while(g.has(l,A));return l[A]=!0,A}function j(A,Z){if(!t.call(A,y)){if(!Z)return;Object.defineProperty(A,y,{value:g.create()})}return A[y]}function he(A,Z){for(var x=0;x<Z;++x)A[x]=Math.random()*255|0;return A}function pe(A){if(typeof Uint8Array=="function"){var Z=new Uint8Array(A);return typeof crypto<"u"?crypto.getRandomValues(Z):typeof msCrypto<"u"?msCrypto.getRandomValues(Z):he(Z,A),Z}return he(new Array(A),A)}function ne(){var A=pe(a);A[6]=A[6]&79|64,A[8]=A[8]&191|128;for(var Z="",x=0;x<a;++x){var H=A[x];(x===4||x===6||x===8)&&(Z+="-"),H<16&&(Z+="0"),Z+=H.toString(16).toLowerCase()}return Z}}function xe(a){return a.__=void 0,delete a.__,a}})})(gt||(gt={}))});var Wn=Yt(Et());var Ce=globalThis;function ge(s){return(Ce.__Zone_symbol_prefix||"__zone_symbol__")+s}function Kt(){let s=Ce.performance;function e(Y){s&&s.mark&&s.mark(Y)}function n(Y,L){s&&s.measure&&s.measure(Y,L)}e("Zone");let t=(()=>{class Y{static __symbol__=ge;static assertZonePatched(){if(Ce.Promise!==B.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let o=Y.current;for(;o.parent;)o=o.parent;return o}static get current(){return W.zone}static get currentTask(){return $}static __load_patch(o,c,G=!1){if(B.hasOwnProperty(o)){let V=Ce[ge("forceDuplicateZoneCheck")]===!0;if(!G&&V)throw Error("Already loaded patch: "+o)}else if(!Ce["__Zone_disable_"+o]){let V="Zone:"+o;e(V),B[o]=c(Ce,Y,X),n(V,V)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(o,c){this._parent=o,this._name=c?c.name||"unnamed":"<root>",this._properties=c&&c.properties||{},this._zoneDelegate=new u(this,this._parent&&this._parent._zoneDelegate,c)}get(o){let c=this.getZoneWith(o);if(c)return c._properties[o]}getZoneWith(o){let c=this;for(;c;){if(c._properties.hasOwnProperty(o))return c;c=c._parent}return null}fork(o){if(!o)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,o)}wrap(o,c){if(typeof o!="function")throw new Error("Expecting function got: "+o);let G=this._zoneDelegate.intercept(this,o,c),V=this;return function(){return V.runGuarded(G,this,arguments,c)}}run(o,c,G,V){W={parent:W,zone:this};try{return this._zoneDelegate.invoke(this,o,c,G,V)}finally{W=W.parent}}runGuarded(o,c=null,G,V){W={parent:W,zone:this};try{try{return this._zoneDelegate.invoke(this,o,c,G,V)}catch(D){if(this._zoneDelegate.handleError(this,D))throw D}}finally{W=W.parent}}runTask(o,c,G){if(o.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(o.zone||N).name+"; Execution: "+this.name+")");let V=o,{type:D,data:{isPeriodic:te=!1,isRefreshable:Pe=!1}={}}=o;if(o.state===v&&(D===se||D===M))return;let ie=o.state!=T;ie&&V._transitionTo(T,i);let ve=$;$=V,W={parent:W,zone:this};try{D==M&&o.data&&!te&&!Pe&&(o.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,V,c,G)}catch(ke){if(this._zoneDelegate.handleError(this,ke))throw ke}}finally{let ke=o.state;if(ke!==v&&ke!==m)if(D==se||te||Pe&&ke===p)ie&&V._transitionTo(i,T,p);else{let C=V._zoneDelegates;this._updateTaskCount(V,-1),ie&&V._transitionTo(v,T,v),Pe&&(V._zoneDelegates=C)}W=W.parent,$=ve}}scheduleTask(o){if(o.zone&&o.zone!==this){let G=this;for(;G;){if(G===o.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${o.zone.name}`);G=G.parent}}o._transitionTo(p,v);let c=[];o._zoneDelegates=c,o._zone=this;try{o=this._zoneDelegate.scheduleTask(this,o)}catch(G){throw o._transitionTo(m,p,v),this._zoneDelegate.handleError(this,G),G}return o._zoneDelegates===c&&this._updateTaskCount(o,1),o.state==p&&o._transitionTo(i,p),o}scheduleMicroTask(o,c,G,V){return this.scheduleTask(new h(F,o,c,G,V,void 0))}scheduleMacroTask(o,c,G,V,D){return this.scheduleTask(new h(M,o,c,G,V,D))}scheduleEventTask(o,c,G,V,D){return this.scheduleTask(new h(se,o,c,G,V,D))}cancelTask(o){if(o.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(o.zone||N).name+"; Execution: "+this.name+")");if(!(o.state!==i&&o.state!==T)){o._transitionTo(k,i,T);try{this._zoneDelegate.cancelTask(this,o)}catch(c){throw o._transitionTo(m,k),this._zoneDelegate.handleError(this,c),c}return this._updateTaskCount(o,-1),o._transitionTo(v,k),o.runCount=-1,o}}_updateTaskCount(o,c){let G=o._zoneDelegates;c==-1&&(o._zoneDelegates=null);for(let V=0;V<G.length;V++)G[V]._updateTaskCount(o.type,c)}}return Y})(),r={name:"",onHasTask:(Y,L,o,c)=>Y.hasTask(o,c),onScheduleTask:(Y,L,o,c)=>Y.scheduleTask(o,c),onInvokeTask:(Y,L,o,c,G,V)=>Y.invokeTask(o,c,G,V),onCancelTask:(Y,L,o,c)=>Y.cancelTask(o,c)};class u{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(L,o,c){this._zone=L,this._parentDelegate=o,this._forkZS=c&&(c&&c.onFork?c:o._forkZS),this._forkDlgt=c&&(c.onFork?o:o._forkDlgt),this._forkCurrZone=c&&(c.onFork?this._zone:o._forkCurrZone),this._interceptZS=c&&(c.onIntercept?c:o._interceptZS),this._interceptDlgt=c&&(c.onIntercept?o:o._interceptDlgt),this._interceptCurrZone=c&&(c.onIntercept?this._zone:o._interceptCurrZone),this._invokeZS=c&&(c.onInvoke?c:o._invokeZS),this._invokeDlgt=c&&(c.onInvoke?o:o._invokeDlgt),this._invokeCurrZone=c&&(c.onInvoke?this._zone:o._invokeCurrZone),this._handleErrorZS=c&&(c.onHandleError?c:o._handleErrorZS),this._handleErrorDlgt=c&&(c.onHandleError?o:o._handleErrorDlgt),this._handleErrorCurrZone=c&&(c.onHandleError?this._zone:o._handleErrorCurrZone),this._scheduleTaskZS=c&&(c.onScheduleTask?c:o._scheduleTaskZS),this._scheduleTaskDlgt=c&&(c.onScheduleTask?o:o._scheduleTaskDlgt),this._scheduleTaskCurrZone=c&&(c.onScheduleTask?this._zone:o._scheduleTaskCurrZone),this._invokeTaskZS=c&&(c.onInvokeTask?c:o._invokeTaskZS),this._invokeTaskDlgt=c&&(c.onInvokeTask?o:o._invokeTaskDlgt),this._invokeTaskCurrZone=c&&(c.onInvokeTask?this._zone:o._invokeTaskCurrZone),this._cancelTaskZS=c&&(c.onCancelTask?c:o._cancelTaskZS),this._cancelTaskDlgt=c&&(c.onCancelTask?o:o._cancelTaskDlgt),this._cancelTaskCurrZone=c&&(c.onCancelTask?this._zone:o._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let G=c&&c.onHasTask,V=o&&o._hasTaskZS;(G||V)&&(this._hasTaskZS=G?c:r,this._hasTaskDlgt=o,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,c.onScheduleTask||(this._scheduleTaskZS=r,this._scheduleTaskDlgt=o,this._scheduleTaskCurrZone=this._zone),c.onInvokeTask||(this._invokeTaskZS=r,this._invokeTaskDlgt=o,this._invokeTaskCurrZone=this._zone),c.onCancelTask||(this._cancelTaskZS=r,this._cancelTaskDlgt=o,this._cancelTaskCurrZone=this._zone))}fork(L,o){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,L,o):new t(L,o)}intercept(L,o,c){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,L,o,c):o}invoke(L,o,c,G,V){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,L,o,c,G,V):o.apply(c,G)}handleError(L,o){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,L,o):!0}scheduleTask(L,o){let c=o;if(this._scheduleTaskZS)this._hasTaskZS&&c._zoneDelegates.push(this._hasTaskDlgtOwner),c=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,L,o),c||(c=o);else if(o.scheduleFn)o.scheduleFn(o);else if(o.type==F)R(o);else throw new Error("Task is missing scheduleFn.");return c}invokeTask(L,o,c,G){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,L,o,c,G):o.callback.apply(c,G)}cancelTask(L,o){let c;if(this._cancelTaskZS)c=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,L,o);else{if(!o.cancelFn)throw Error("Task is not cancelable");c=o.cancelFn(o)}return c}hasTask(L,o){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,L,o)}catch(c){this.handleError(L,c)}}_updateTaskCount(L,o){let c=this._taskCounts,G=c[L],V=c[L]=G+o;if(V<0)throw new Error("More tasks executed then were scheduled.");if(G==0||V==0){let D={microTask:c.microTask>0,macroTask:c.macroTask>0,eventTask:c.eventTask>0,change:L};this.hasTask(this._zone,D)}}}class h{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(L,o,c,G,V,D){if(this.type=L,this.source=o,this.data=G,this.scheduleFn=V,this.cancelFn=D,!c)throw new Error("callback is not defined");this.callback=c;let te=this;L===se&&G&&G.useG?this.invoke=h.invokeTask:this.invoke=function(){return h.invokeTask.call(Ce,te,this,arguments)}}static invokeTask(L,o,c){L||(L=this),ye++;try{return L.runCount++,L.zone.runTask(L,o,c)}finally{ye==1&&w(),ye--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(v,p)}_transitionTo(L,o,c){if(this._state===o||this._state===c)this._state=L,L==v&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${L}', expecting state '${o}'${c?" or '"+c+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let _=ge("setTimeout"),d=ge("Promise"),P=ge("then"),g=[],I=!1,O;function z(Y){if(O||Ce[d]&&(O=Ce[d].resolve(0)),O){let L=O[P];L||(L=O.then),L.call(O,Y)}else Ce[_](Y,0)}function R(Y){ye===0&&g.length===0&&z(w),Y&&g.push(Y)}function w(){if(!I){for(I=!0;g.length;){let Y=g;g=[];for(let L=0;L<Y.length;L++){let o=Y[L];try{o.zone.runTask(o,null,null)}catch(c){X.onUnhandledError(c)}}}X.microtaskDrainDone(),I=!1}}let N={name:"NO ZONE"},v="notScheduled",p="scheduling",i="scheduled",T="running",k="canceling",m="unknown",F="microTask",M="macroTask",se="eventTask",B={},X={symbol:ge,currentZoneFrame:()=>W,onUnhandledError:ue,microtaskDrainDone:ue,scheduleMicroTask:R,showUncaughtError:()=>!t[ge("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ue,patchMethod:()=>ue,bindArguments:()=>[],patchThen:()=>ue,patchMacroTask:()=>ue,patchEventPrototype:()=>ue,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ue,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ue,wrapWithCurrentZone:()=>ue,filterProperties:()=>[],attachOriginToPatched:()=>ue,_redefineProperty:()=>ue,patchCallbacks:()=>ue,nativeScheduleMicroTask:z},W={parent:null,zone:new t(null,null)},$=null,ye=0;function ue(){}return n("Zone","Zone"),t}function en(){let s=globalThis,e=s[ge("forceDuplicateZoneCheck")]===!0;if(s.Zone&&(e||typeof s.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return s.Zone??=Kt(),s.Zone}var qe=Object.getOwnPropertyDescriptor,at=Object.defineProperty,ct=Object.getPrototypeOf,tn=Object.create,nn=Array.prototype.slice,ut="addEventListener",lt="removeEventListener",rt=ge(ut),st=ge(lt),Re="true",Ae="false",Ge=ge("");function ft(s,e){return Zone.current.wrap(s,e)}function ht(s,e,n,t,r){return Zone.current.scheduleMacroTask(s,e,n,t,r)}var oe=ge,Je=typeof window<"u",ze=Je?window:void 0,_e=Je&&ze||globalThis,rn="removeAttribute";function dt(s,e){for(let n=s.length-1;n>=0;n--)typeof s[n]=="function"&&(s[n]=ft(s[n],e+"_"+n));return s}function sn(s,e){let n=s.constructor.name;for(let t=0;t<e.length;t++){let r=e[t],u=s[r];if(u){let h=qe(s,r);if(!Mt(h))continue;s[r]=(_=>{let d=function(){return _.apply(this,dt(arguments,n+"."+r))};return De(d,_),d})(u)}}}function Mt(s){return s?s.writable===!1?!1:!(typeof s.get=="function"&&typeof s.set>"u"):!0}var Ot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ye=!("nw"in _e)&&typeof _e.process<"u"&&_e.process.toString()==="[object process]",pt=!Ye&&!Ot&&!!(Je&&ze.HTMLElement),Rt=typeof _e.process<"u"&&_e.process.toString()==="[object process]"&&!Ot&&!!(Je&&ze.HTMLElement),$e={},on=oe("enable_beforeunload"),vt=function(s){if(s=s||_e.event,!s)return;let e=$e[s.type];e||(e=$e[s.type]=oe("ON_PROPERTY"+s.type));let n=this||s.target||_e,t=n[e],r;if(pt&&n===ze&&s.type==="error"){let u=s;r=t&&t.call(this,u.message,u.filename,u.lineno,u.colno,u.error),r===!0&&s.preventDefault()}else r=t&&t.apply(this,arguments),s.type==="beforeunload"&&_e[on]&&typeof r=="string"?s.returnValue=r:r!=null&&!r&&s.preventDefault();return r};function bt(s,e,n){let t=qe(s,e);if(!t&&n&&qe(n,e)&&(t={enumerable:!0,configurable:!0}),!t||!t.configurable)return;let r=oe("on"+e+"patched");if(s.hasOwnProperty(r)&&s[r])return;delete t.writable,delete t.value;let u=t.get,h=t.set,_=e.slice(2),d=$e[_];d||(d=$e[_]=oe("ON_PROPERTY"+_)),t.set=function(P){let g=this;if(!g&&s===_e&&(g=_e),!g)return;typeof g[d]=="function"&&g.removeEventListener(_,vt),h?.call(g,null),g[d]=P,typeof P=="function"&&g.addEventListener(_,vt,!1)},t.get=function(){let P=this;if(!P&&s===_e&&(P=_e),!P)return null;let g=P[d];if(g)return g;if(u){let I=u.call(this);if(I)return t.set.call(this,I),typeof P[rn]=="function"&&P.removeAttribute(e),I}return null},at(s,e,t),s[r]=!0}function At(s,e,n){if(e)for(let t=0;t<e.length;t++)bt(s,"on"+e[t],n);else{let t=[];for(let r in s)r.slice(0,2)=="on"&&t.push(r);for(let r=0;r<t.length;r++)bt(s,t[r],n)}}var Se=oe("originalInstance");function Ue(s){let e=_e[s];if(!e)return;_e[oe(s)]=e,_e[s]=function(){let r=dt(arguments,s);switch(r.length){case 0:this[Se]=new e;break;case 1:this[Se]=new e(r[0]);break;case 2:this[Se]=new e(r[0],r[1]);break;case 3:this[Se]=new e(r[0],r[1],r[2]);break;case 4:this[Se]=new e(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},De(_e[s],e);let n=new e(function(){}),t;for(t in n)s==="XMLHttpRequest"&&t==="responseBlob"||function(r){typeof n[r]=="function"?_e[s].prototype[r]=function(){return this[Se][r].apply(this[Se],arguments)}:at(_e[s].prototype,r,{set:function(u){typeof u=="function"?(this[Se][r]=ft(u,s+"."+r),De(this[Se][r],u)):this[Se][r]=u},get:function(){return this[Se][r]}})}(t);for(t in e)t!=="prototype"&&e.hasOwnProperty(t)&&(_e[s][t]=e[t])}function Ie(s,e,n){let t=s;for(;t&&!t.hasOwnProperty(e);)t=ct(t);!t&&s[e]&&(t=s);let r=oe(e),u=null;if(t&&(!(u=t[r])||!t.hasOwnProperty(r))){u=t[r]=t[e];let h=t&&qe(t,e);if(Mt(h)){let _=n(u,r,e);t[e]=function(){return _(this,arguments)},De(t[e],u)}}return u}function an(s,e,n){let t=null;function r(u){let h=u.data;return h.args[h.cbIdx]=function(){u.invoke.apply(this,arguments)},t.apply(h.target,h.args),u}t=Ie(s,e,u=>function(h,_){let d=n(h,_);return d.cbIdx>=0&&typeof _[d.cbIdx]=="function"?ht(d.name,_[d.cbIdx],d,r):u.apply(h,_)})}function De(s,e){s[oe("OriginalDelegate")]=e}var wt=!1,it=!1;function cn(){if(wt)return it;wt=!0;try{let s=ze.navigator.userAgent;(s.indexOf("MSIE ")!==-1||s.indexOf("Trident/")!==-1||s.indexOf("Edge/")!==-1)&&(it=!0)}catch{}return it}function St(s){return typeof s=="function"}function Pt(s){return typeof s=="number"}var un={useG:!0},Ee={},It={},Dt=new RegExp("^"+Ge+"(\\w+)(true|false)$"),Zt=oe("propagationStopped");function Ft(s,e){let n=(e?e(s):s)+Ae,t=(e?e(s):s)+Re,r=Ge+n,u=Ge+t;Ee[s]={},Ee[s][Ae]=r,Ee[s][Re]=u}function ln(s,e,n,t){let r=t&&t.add||ut,u=t&&t.rm||lt,h=t&&t.listeners||"eventListeners",_=t&&t.rmAll||"removeAllListeners",d=oe(r),P="."+r+":",g="prependListener",I="."+g+":",O=function(p,i,T){if(p.isRemoved)return;let k=p.callback;typeof k=="object"&&k.handleEvent&&(p.callback=M=>k.handleEvent(M),p.originalDelegate=k);let m;try{p.invoke(p,i,[T])}catch(M){m=M}let F=p.options;if(F&&typeof F=="object"&&F.once){let M=p.originalDelegate?p.originalDelegate:p.callback;i[u].call(i,T.type,M,F)}return m};function z(p,i,T){if(i=i||s.event,!i)return;let k=p||i.target||s,m=k[Ee[i.type][T?Re:Ae]];if(m){let F=[];if(m.length===1){let M=O(m[0],k,i);M&&F.push(M)}else{let M=m.slice();for(let se=0;se<M.length&&!(i&&i[Zt]===!0);se++){let B=O(M[se],k,i);B&&F.push(B)}}if(F.length===1)throw F[0];for(let M=0;M<F.length;M++){let se=F[M];e.nativeScheduleMicroTask(()=>{throw se})}}}let R=function(p){return z(this,p,!1)},w=function(p){return z(this,p,!0)};function N(p,i){if(!p)return!1;let T=!0;i&&i.useG!==void 0&&(T=i.useG);let k=i&&i.vh,m=!0;i&&i.chkDup!==void 0&&(m=i.chkDup);let F=!1;i&&i.rt!==void 0&&(F=i.rt);let M=p;for(;M&&!M.hasOwnProperty(r);)M=ct(M);if(!M&&p[r]&&(M=p),!M||M[d])return!1;let se=i&&i.eventNameToString,B={},X=M[d]=M[r],W=M[oe(u)]=M[u],$=M[oe(h)]=M[h],ye=M[oe(_)]=M[_],ue;i&&i.prepend&&(ue=M[oe(i.prepend)]=M[i.prepend]);function Y(f,S){return S?typeof f=="boolean"?{capture:f,passive:!0}:f?typeof f=="object"&&f.passive!==!1?{...f,passive:!0}:f:{passive:!0}:f}let L=function(f){if(!B.isExisting)return X.call(B.target,B.eventName,B.capture?w:R,B.options)},o=function(f){if(!f.isRemoved){let S=Ee[f.eventName],U;S&&(U=S[f.capture?Re:Ae]);let Q=U&&f.target[U];if(Q){for(let q=0;q<Q.length;q++)if(Q[q]===f){Q.splice(q,1),f.isRemoved=!0,f.removeAbortListener&&(f.removeAbortListener(),f.removeAbortListener=null),Q.length===0&&(f.allRemoved=!0,f.target[U]=null);break}}}if(f.allRemoved)return W.call(f.target,f.eventName,f.capture?w:R,f.options)},c=function(f){return X.call(B.target,B.eventName,f.invoke,B.options)},G=function(f){return ue.call(B.target,B.eventName,f.invoke,B.options)},V=function(f){return W.call(f.target,f.eventName,f.invoke,f.options)},D=T?L:c,te=T?o:V,Pe=function(f,S){let U=typeof S;return U==="function"&&f.callback===S||U==="object"&&f.originalDelegate===S},ie=i?.diff||Pe,ve=Zone[oe("UNPATCHED_EVENTS")],ke=s[oe("PASSIVE_EVENTS")];function C(f){if(typeof f=="object"&&f!==null){let S={...f};return f.signal&&(S.signal=f.signal),S}return f}let b=function(f,S,U,Q,q=!1,J=!1){return function(){let K=this||s,ee=arguments[0];i&&i.transferEventName&&(ee=i.transferEventName(ee));let ae=arguments[1];if(!ae)return f.apply(this,arguments);if(Ye&&ee==="uncaughtException")return f.apply(this,arguments);let ce=!1;if(typeof ae!="function"){if(!ae.handleEvent)return f.apply(this,arguments);ce=!0}if(k&&!k(f,ae,K,arguments))return;let be=!!ke&&ke.indexOf(ee)!==-1,me=C(Y(arguments[2],be)),Fe=me?.signal;if(Fe?.aborted)return;if(ve){for(let j=0;j<ve.length;j++)if(ee===ve[j])return be?f.call(K,ee,ae,me):f.apply(this,arguments)}let He=me?typeof me=="boolean"?!0:me.capture:!1,Ve=me&&typeof me=="object"?me.once:!1,nt=Zone.current,Oe=Ee[ee];Oe||(Ft(ee,se),Oe=Ee[ee]);let Qe=Oe[He?Re:Ae],je=K[Qe],Be=!1;if(je){if(Be=!0,m){for(let j=0;j<je.length;j++)if(ie(je[j],ae))return}}else je=K[Qe]=[];let xe,a=K.constructor.name,l=It[a];l&&(xe=l[ee]),xe||(xe=a+S+(se?se(ee):ee)),B.options=me,Ve&&(B.options.once=!1),B.target=K,B.capture=He,B.eventName=ee,B.isExisting=Be;let y=T?un:void 0;y&&(y.taskData=B),Fe&&(B.options.signal=void 0);let E=nt.scheduleEventTask(xe,ae,y,U,Q);if(Fe){B.options.signal=Fe;let j=()=>E.zone.cancelTask(E);f.call(Fe,"abort",j,{once:!0}),E.removeAbortListener=()=>Fe.removeEventListener("abort",j)}if(B.target=null,y&&(y.taskData=null),Ve&&(B.options.once=!0),typeof E.options!="boolean"&&(E.options=me),E.target=K,E.capture=He,E.eventName=ee,ce&&(E.originalDelegate=ae),J?je.unshift(E):je.push(E),q)return K}};return M[r]=b(X,P,D,te,F),ue&&(M[g]=b(ue,I,G,te,F,!0)),M[u]=function(){let f=this||s,S=arguments[0];i&&i.transferEventName&&(S=i.transferEventName(S));let U=arguments[2],Q=U?typeof U=="boolean"?!0:U.capture:!1,q=arguments[1];if(!q)return W.apply(this,arguments);if(k&&!k(W,q,f,arguments))return;let J=Ee[S],K;J&&(K=J[Q?Re:Ae]);let ee=K&&f[K];if(ee)for(let ae=0;ae<ee.length;ae++){let ce=ee[ae];if(ie(ce,q)){if(ee.splice(ae,1),ce.isRemoved=!0,ee.length===0&&(ce.allRemoved=!0,f[K]=null,!Q&&typeof S=="string")){let be=Ge+"ON_PROPERTY"+S;f[be]=null}return ce.zone.cancelTask(ce),F?f:void 0}}return W.apply(this,arguments)},M[h]=function(){let f=this||s,S=arguments[0];i&&i.transferEventName&&(S=i.transferEventName(S));let U=[],Q=jt(f,se?se(S):S);for(let q=0;q<Q.length;q++){let J=Q[q],K=J.originalDelegate?J.originalDelegate:J.callback;U.push(K)}return U},M[_]=function(){let f=this||s,S=arguments[0];if(S){i&&i.transferEventName&&(S=i.transferEventName(S));let U=Ee[S];if(U){let Q=U[Ae],q=U[Re],J=f[Q],K=f[q];if(J){let ee=J.slice();for(let ae=0;ae<ee.length;ae++){let ce=ee[ae],be=ce.originalDelegate?ce.originalDelegate:ce.callback;this[u].call(this,S,be,ce.options)}}if(K){let ee=K.slice();for(let ae=0;ae<ee.length;ae++){let ce=ee[ae],be=ce.originalDelegate?ce.originalDelegate:ce.callback;this[u].call(this,S,be,ce.options)}}}}else{let U=Object.keys(f);for(let Q=0;Q<U.length;Q++){let q=U[Q],J=Dt.exec(q),K=J&&J[1];K&&K!=="removeListener"&&this[_].call(this,K)}this[_].call(this,"removeListener")}if(F)return this},De(M[r],X),De(M[u],W),ye&&De(M[_],ye),$&&De(M[h],$),!0}let v=[];for(let p=0;p<n.length;p++)v[p]=N(n[p],t);return v}function jt(s,e){if(!e){let u=[];for(let h in s){let _=Dt.exec(h),d=_&&_[1];if(d&&(!e||d===e)){let P=s[h];if(P)for(let g=0;g<P.length;g++)u.push(P[g])}}return u}let n=Ee[e];n||(Ft(e),n=Ee[e]);let t=s[n[Ae]],r=s[n[Re]];return t?r?t.concat(r):t.slice():r?r.slice():[]}function fn(s,e){let n=s.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",t=>function(r,u){r[Zt]=!0,t&&t.apply(r,u)})}function hn(s,e){e.patchMethod(s,"queueMicrotask",n=>function(t,r){Zone.current.scheduleMicroTask("queueMicrotask",r[0])})}var Xe=oe("zoneTask");function Le(s,e,n,t){let r=null,u=null;e+=t,n+=t;let h={};function _(P){let g=P.data;g.args[0]=function(){return P.invoke.apply(this,arguments)};let I=r.apply(s,g.args);return Pt(I)?g.handleId=I:(g.handle=I,g.isRefreshable=St(I.refresh)),P}function d(P){let{handle:g,handleId:I}=P.data;return u.call(s,g??I)}r=Ie(s,e,P=>function(g,I){if(St(I[0])){let O={isRefreshable:!1,isPeriodic:t==="Interval",delay:t==="Timeout"||t==="Interval"?I[1]||0:void 0,args:I},z=I[0];I[0]=function(){try{return z.apply(this,arguments)}finally{let{handle:T,handleId:k,isPeriodic:m,isRefreshable:F}=O;!m&&!F&&(k?delete h[k]:T&&(T[Xe]=null))}};let R=ht(e,I[0],O,_,d);if(!R)return R;let{handleId:w,handle:N,isRefreshable:v,isPeriodic:p}=R.data;if(w)h[w]=R;else if(N&&(N[Xe]=R,v&&!p)){let i=N.refresh;N.refresh=function(){let{zone:T,state:k}=R;return k==="notScheduled"?(R._state="scheduled",T._updateTaskCount(R,1)):k==="running"&&(R._state="scheduling"),i.call(this)}}return N??w??R}else return P.apply(s,I)}),u=Ie(s,n,P=>function(g,I){let O=I[0],z;Pt(O)?(z=h[O],delete h[O]):(z=O?.[Xe],z?O[Xe]=null:z=O),z?.type?z.cancelFn&&z.zone.cancelTask(z):P.apply(s,I)})}function dn(s,e){let{isBrowser:n,isMix:t}=e.getGlobalObjects();if(!n&&!t||!s.customElements||!("customElements"in s))return;let r=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,s.customElements,"customElements","define",r)}function pn(s,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:t,TRUE_STR:r,FALSE_STR:u,ZONE_SYMBOL_PREFIX:h}=e.getGlobalObjects();for(let d=0;d<n.length;d++){let P=n[d],g=P+u,I=P+r,O=h+g,z=h+I;t[P]={},t[P][u]=O,t[P][r]=z}let _=s.EventTarget;if(!(!_||!_.prototype))return e.patchEventTarget(s,e,[_&&_.prototype]),!0}function _n(s,e){e.patchEventPrototype(s,e)}function xt(s,e,n){if(!n||n.length===0)return e;let t=n.filter(u=>u.target===s);if(t.length===0)return e;let r=t[0].ignoreProperties;return e.filter(u=>r.indexOf(u)===-1)}function Ct(s,e,n,t){if(!s)return;let r=xt(s,e,n);At(s,r,t)}function ot(s){return Object.getOwnPropertyNames(s).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function yn(s,e){if(Ye&&!Rt||Zone[s.symbol("patchEvents")])return;let n=e.__Zone_ignore_on_properties,t=[];if(pt){let r=window;t=t.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let u=[];Ct(r,ot(r),n&&n.concat(u),ct(r))}t=t.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let r=0;r<t.length;r++){let u=e[t[r]];u?.prototype&&Ct(u.prototype,ot(u.prototype),n)}}function Tn(s){s.__load_patch("legacy",e=>{let n=e[s.__symbol__("legacyPatch")];n&&n()}),s.__load_patch("timers",e=>{let n="set",t="clear";Le(e,n,t,"Timeout"),Le(e,n,t,"Interval"),Le(e,n,t,"Immediate")}),s.__load_patch("requestAnimationFrame",e=>{Le(e,"request","cancel","AnimationFrame"),Le(e,"mozRequest","mozCancel","AnimationFrame"),Le(e,"webkitRequest","webkitCancel","AnimationFrame")}),s.__load_patch("blocking",(e,n)=>{let t=["alert","prompt","confirm"];for(let r=0;r<t.length;r++){let u=t[r];Ie(e,u,(h,_,d)=>function(P,g){return n.current.run(h,e,g,d)})}}),s.__load_patch("EventTarget",(e,n,t)=>{_n(e,t),pn(e,t);let r=e.XMLHttpRequestEventTarget;r&&r.prototype&&t.patchEventTarget(e,t,[r.prototype])}),s.__load_patch("MutationObserver",(e,n,t)=>{Ue("MutationObserver"),Ue("WebKitMutationObserver")}),s.__load_patch("IntersectionObserver",(e,n,t)=>{Ue("IntersectionObserver")}),s.__load_patch("FileReader",(e,n,t)=>{Ue("FileReader")}),s.__load_patch("on_property",(e,n,t)=>{yn(t,e)}),s.__load_patch("customElements",(e,n,t)=>{dn(e,t)}),s.__load_patch("XHR",(e,n)=>{P(e);let t=oe("xhrTask"),r=oe("xhrSync"),u=oe("xhrListener"),h=oe("xhrScheduled"),_=oe("xhrURL"),d=oe("xhrErrorBeforeScheduled");function P(g){let I=g.XMLHttpRequest;if(!I)return;let O=I.prototype;function z(X){return X[t]}let R=O[rt],w=O[st];if(!R){let X=g.XMLHttpRequestEventTarget;if(X){let W=X.prototype;R=W[rt],w=W[st]}}let N="readystatechange",v="scheduled";function p(X){let W=X.data,$=W.target;$[h]=!1,$[d]=!1;let ye=$[u];R||(R=$[rt],w=$[st]),ye&&w.call($,N,ye);let ue=$[u]=()=>{if($.readyState===$.DONE)if(!W.aborted&&$[h]&&X.state===v){let L=$[n.__symbol__("loadfalse")];if($.status!==0&&L&&L.length>0){let o=X.invoke;X.invoke=function(){let c=$[n.__symbol__("loadfalse")];for(let G=0;G<c.length;G++)c[G]===X&&c.splice(G,1);!W.aborted&&X.state===v&&o.call(X)},L.push(X)}else X.invoke()}else!W.aborted&&$[h]===!1&&($[d]=!0)};return R.call($,N,ue),$[t]||($[t]=X),se.apply($,W.args),$[h]=!0,X}function i(){}function T(X){let W=X.data;return W.aborted=!0,B.apply(W.target,W.args)}let k=Ie(O,"open",()=>function(X,W){return X[r]=W[2]==!1,X[_]=W[1],k.apply(X,W)}),m="XMLHttpRequest.send",F=oe("fetchTaskAborting"),M=oe("fetchTaskScheduling"),se=Ie(O,"send",()=>function(X,W){if(n.current[M]===!0||X[r])return se.apply(X,W);{let $={target:X,url:X[_],isPeriodic:!1,args:W,aborted:!1},ye=ht(m,i,$,p,T);X&&X[d]===!0&&!$.aborted&&ye.state===v&&ye.invoke()}}),B=Ie(O,"abort",()=>function(X,W){let $=z(X);if($&&typeof $.type=="string"){if($.cancelFn==null||$.data&&$.data.aborted)return;$.zone.cancelTask($)}else if(n.current[F]===!0)return B.apply(X,W)})}}),s.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&sn(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),s.__load_patch("PromiseRejectionEvent",(e,n)=>{function t(r){return function(u){jt(e,r).forEach(_=>{let d=e.PromiseRejectionEvent;if(d){let P=new d(r,{promise:u.promise,reason:u.rejection});_.invoke(P)}})}}e.PromiseRejectionEvent&&(n[oe("unhandledPromiseRejectionHandler")]=t("unhandledrejection"),n[oe("rejectionHandledHandler")]=t("rejectionhandled"))}),s.__load_patch("queueMicrotask",(e,n,t)=>{hn(e,t)})}function mn(s){s.__load_patch("ZoneAwarePromise",(e,n,t)=>{let r=Object.getOwnPropertyDescriptor,u=Object.defineProperty;function h(C){if(C&&C.toString===Object.prototype.toString){let b=C.constructor&&C.constructor.name;return(b||"")+": "+JSON.stringify(C)}return C?C.toString():Object.prototype.toString.call(C)}let _=t.symbol,d=[],P=e[_("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,g=_("Promise"),I=_("then"),O="__creationTrace__";t.onUnhandledError=C=>{if(t.showUncaughtError()){let b=C&&C.rejection;b?console.error("Unhandled Promise rejection:",b instanceof Error?b.message:b,"; Zone:",C.zone.name,"; Task:",C.task&&C.task.source,"; Value:",b,b instanceof Error?b.stack:void 0):console.error(C)}},t.microtaskDrainDone=()=>{for(;d.length;){let C=d.shift();try{C.zone.runGuarded(()=>{throw C.throwOriginal?C.rejection:C})}catch(b){R(b)}}};let z=_("unhandledPromiseRejectionHandler");function R(C){t.onUnhandledError(C);try{let b=n[z];typeof b=="function"&&b.call(this,C)}catch{}}function w(C){return C&&typeof C.then=="function"}function N(C){return C}function v(C){return te.reject(C)}let p=_("state"),i=_("value"),T=_("finally"),k=_("parentPromiseValue"),m=_("parentPromiseState"),F="Promise.then",M=null,se=!0,B=!1,X=0;function W(C,b){return f=>{try{Y(C,b,f)}catch(S){Y(C,!1,S)}}}let $=function(){let C=!1;return function(f){return function(){C||(C=!0,f.apply(null,arguments))}}},ye="Promise resolved with itself",ue=_("currentTaskTrace");function Y(C,b,f){let S=$();if(C===f)throw new TypeError(ye);if(C[p]===M){let U=null;try{(typeof f=="object"||typeof f=="function")&&(U=f&&f.then)}catch(Q){return S(()=>{Y(C,!1,Q)})(),C}if(b!==B&&f instanceof te&&f.hasOwnProperty(p)&&f.hasOwnProperty(i)&&f[p]!==M)o(f),Y(C,f[p],f[i]);else if(b!==B&&typeof U=="function")try{U.call(f,S(W(C,b)),S(W(C,!1)))}catch(Q){S(()=>{Y(C,!1,Q)})()}else{C[p]=b;let Q=C[i];if(C[i]=f,C[T]===T&&b===se&&(C[p]=C[m],C[i]=C[k]),b===B&&f instanceof Error){let q=n.currentTask&&n.currentTask.data&&n.currentTask.data[O];q&&u(f,ue,{configurable:!0,enumerable:!1,writable:!0,value:q})}for(let q=0;q<Q.length;)c(C,Q[q++],Q[q++],Q[q++],Q[q++]);if(Q.length==0&&b==B){C[p]=X;let q=f;try{throw new Error("Uncaught (in promise): "+h(f)+(f&&f.stack?`
`+f.stack:""))}catch(J){q=J}P&&(q.throwOriginal=!0),q.rejection=f,q.promise=C,q.zone=n.current,q.task=n.currentTask,d.push(q),t.scheduleMicroTask()}}}return C}let L=_("rejectionHandledHandler");function o(C){if(C[p]===X){try{let b=n[L];b&&typeof b=="function"&&b.call(this,{rejection:C[i],promise:C})}catch{}C[p]=B;for(let b=0;b<d.length;b++)C===d[b].promise&&d.splice(b,1)}}function c(C,b,f,S,U){o(C);let Q=C[p],q=Q?typeof S=="function"?S:N:typeof U=="function"?U:v;b.scheduleMicroTask(F,()=>{try{let J=C[i],K=!!f&&T===f[T];K&&(f[k]=J,f[m]=Q);let ee=b.run(q,void 0,K&&q!==v&&q!==N?[]:[J]);Y(f,!0,ee)}catch(J){Y(f,!1,J)}},f)}let G="function ZoneAwarePromise() { [native code] }",V=function(){},D=e.AggregateError;class te{static toString(){return G}static resolve(b){return b instanceof te?b:Y(new this(null),se,b)}static reject(b){return Y(new this(null),B,b)}static withResolvers(){let b={};return b.promise=new te((f,S)=>{b.resolve=f,b.reject=S}),b}static any(b){if(!b||typeof b[Symbol.iterator]!="function")return Promise.reject(new D([],"All promises were rejected"));let f=[],S=0;try{for(let q of b)S++,f.push(te.resolve(q))}catch{return Promise.reject(new D([],"All promises were rejected"))}if(S===0)return Promise.reject(new D([],"All promises were rejected"));let U=!1,Q=[];return new te((q,J)=>{for(let K=0;K<f.length;K++)f[K].then(ee=>{U||(U=!0,q(ee))},ee=>{Q.push(ee),S--,S===0&&(U=!0,J(new D(Q,"All promises were rejected")))})})}static race(b){let f,S,U=new this((J,K)=>{f=J,S=K});function Q(J){f(J)}function q(J){S(J)}for(let J of b)w(J)||(J=this.resolve(J)),J.then(Q,q);return U}static all(b){return te.allWithCallback(b)}static allSettled(b){return(this&&this.prototype instanceof te?this:te).allWithCallback(b,{thenCallback:S=>({status:"fulfilled",value:S}),errorCallback:S=>({status:"rejected",reason:S})})}static allWithCallback(b,f){let S,U,Q=new this((ee,ae)=>{S=ee,U=ae}),q=2,J=0,K=[];for(let ee of b){w(ee)||(ee=this.resolve(ee));let ae=J;try{ee.then(ce=>{K[ae]=f?f.thenCallback(ce):ce,q--,q===0&&S(K)},ce=>{f?(K[ae]=f.errorCallback(ce),q--,q===0&&S(K)):U(ce)})}catch(ce){U(ce)}q++,J++}return q-=2,q===0&&S(K),Q}constructor(b){let f=this;if(!(f instanceof te))throw new Error("Must be an instanceof Promise.");f[p]=M,f[i]=[];try{let S=$();b&&b(S(W(f,se)),S(W(f,B)))}catch(S){Y(f,!1,S)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return te}then(b,f){let S=this.constructor?.[Symbol.species];(!S||typeof S!="function")&&(S=this.constructor||te);let U=new S(V),Q=n.current;return this[p]==M?this[i].push(Q,U,b,f):c(this,Q,U,b,f),U}catch(b){return this.then(null,b)}finally(b){let f=this.constructor?.[Symbol.species];(!f||typeof f!="function")&&(f=te);let S=new f(V);S[T]=T;let U=n.current;return this[p]==M?this[i].push(U,S,b,b):c(this,U,S,b,b),S}}te.resolve=te.resolve,te.reject=te.reject,te.race=te.race,te.all=te.all;let Pe=e[g]=e.Promise;e.Promise=te;let ie=_("thenPatched");function ve(C){let b=C.prototype,f=r(b,"then");if(f&&(f.writable===!1||!f.configurable))return;let S=b.then;b[I]=S,C.prototype.then=function(U,Q){return new te((J,K)=>{S.call(this,J,K)}).then(U,Q)},C[ie]=!0}t.patchThen=ve;function ke(C){return function(b,f){let S=C.apply(b,f);if(S instanceof te)return S;let U=S.constructor;return U[ie]||ve(U),S}}return Pe&&(ve(Pe),Ie(e,"fetch",C=>ke(C))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,te})}function kn(s){s.__load_patch("toString",e=>{let n=Function.prototype.toString,t=oe("OriginalDelegate"),r=oe("Promise"),u=oe("Error"),h=function(){if(typeof this=="function"){let g=this[t];if(g)return typeof g=="function"?n.call(g):Object.prototype.toString.call(g);if(this===Promise){let I=e[r];if(I)return n.call(I)}if(this===Error){let I=e[u];if(I)return n.call(I)}}return n.call(this)};h[t]=n,Function.prototype.toString=h;let _=Object.prototype.toString,d="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?d:_.call(this)}})}function gn(s,e,n,t,r){let u=Zone.__symbol__(t);if(e[u])return;let h=e[u]=e[t];e[t]=function(_,d,P){return d&&d.prototype&&r.forEach(function(g){let I=`${n}.${t}::`+g,O=d.prototype;try{if(O.hasOwnProperty(g)){let z=s.ObjectGetOwnPropertyDescriptor(O,g);z&&z.value?(z.value=s.wrapWithCurrentZone(z.value,I),s._redefineProperty(d.prototype,g,z)):O[g]&&(O[g]=s.wrapWithCurrentZone(O[g],I))}else O[g]&&(O[g]=s.wrapWithCurrentZone(O[g],I))}catch{}}),h.call(e,_,d,P)},s.attachOriginToPatched(e[t],h)}function En(s){s.__load_patch("util",(e,n,t)=>{let r=ot(e);t.patchOnProperties=At,t.patchMethod=Ie,t.bindArguments=dt,t.patchMacroTask=an;let u=n.__symbol__("BLACK_LISTED_EVENTS"),h=n.__symbol__("UNPATCHED_EVENTS");e[h]&&(e[u]=e[h]),e[u]&&(n[u]=n[h]=e[u]),t.patchEventPrototype=fn,t.patchEventTarget=ln,t.isIEOrEdge=cn,t.ObjectDefineProperty=at,t.ObjectGetOwnPropertyDescriptor=qe,t.ObjectCreate=tn,t.ArraySlice=nn,t.patchClass=Ue,t.wrapWithCurrentZone=ft,t.filterProperties=xt,t.attachOriginToPatched=De,t._redefineProperty=Object.defineProperty,t.patchCallbacks=gn,t.getGlobalObjects=()=>({globalSources:It,zoneSymbolEventNames:Ee,eventNames:r,isBrowser:pt,isMix:Rt,isNode:Ye,TRUE_STR:Re,FALSE_STR:Ae,ZONE_SYMBOL_PREFIX:Ge,ADD_EVENT_LISTENER_STR:ut,REMOVE_EVENT_LISTENER_STR:lt})})}function vn(s){mn(s),kn(s),En(s)}var Nt=en();vn(Nt);Tn(Nt);function bn(s){s.__load_patch("jasmine",(e,n,t)=>{let r=function(v,p){for(let T in p)p.hasOwnProperty(T)&&(v[T]=p[T]);function i(){this.constructor=v}v.prototype=p===null?Object.create(p):(i.prototype=p.prototype,new i)};if(!n)throw new Error("Missing: zone.js");if(typeof jest<"u"||typeof jasmine>"u"||jasmine.__zone_patch__)return;jasmine.__zone_patch__=!0;let u=n.SyncTestZoneSpec,h=n.ProxyZoneSpec;if(!u)throw new Error("Missing: SyncTestZoneSpec");if(!h)throw new Error("Missing: ProxyZoneSpec");let _=n.current,d=n.__symbol__,P=e[d("fakeAsyncDisablePatchingClock")]===!0,g=!P&&(e[d("fakeAsyncPatchLock")]===!0||e[d("fakeAsyncAutoFakeAsyncWhenClockPatched")]===!0);if(!(e[d("ignoreUnhandledRejection")]===!0)){let v=jasmine.GlobalErrors;v&&!jasmine[d("GlobalErrors")]&&(jasmine[d("GlobalErrors")]=v,jasmine.GlobalErrors=function(){let p=new v,i=p.install;return i&&!p[d("install")]&&(p[d("install")]=i,p.install=function(){let T=typeof process<"u"&&!!process.on,k=T?process.listeners("unhandledRejection"):e.eventListeners("unhandledrejection"),m=i.apply(this,arguments);return T?process.removeAllListeners("unhandledRejection"):e.removeAllListeners("unhandledrejection"),k&&k.forEach(F=>{T?process.on("unhandledRejection",F):e.addEventListener("unhandledrejection",F)}),m}),p})}let O=jasmine.getEnv();if(["describe","xdescribe","fdescribe"].forEach(v=>{let p=O[v];O[v]=function(i,T){return p.call(this,i,z(i,T))}}),["it","xit","fit"].forEach(v=>{let p=O[v];O[d(v)]=p,O[v]=function(i,T,k){return arguments[1]=w(T),p.apply(this,arguments)}}),["beforeEach","afterEach","beforeAll","afterAll"].forEach(v=>{let p=O[v];O[d(v)]=p,O[v]=function(i,T){return arguments[0]=w(i),p.apply(this,arguments)}}),!P){let v=jasmine[d("clock")]=jasmine.clock;jasmine.clock=function(){let p=v.apply(this,arguments);if(!p[d("patched")]){p[d("patched")]=d("patched");let i=p[d("tick")]=p.tick;p.tick=function(){let k=n.current.get("FakeAsyncTestZoneSpec");return k?k.tick.apply(k,arguments):i.apply(this,arguments)};let T=p[d("mockDate")]=p.mockDate;p.mockDate=function(){let k=n.current.get("FakeAsyncTestZoneSpec");if(k){let m=arguments.length>0?arguments[0]:new Date;return k.setFakeBaseSystemTime.apply(k,m&&typeof m.getTime=="function"?[m.getTime()]:arguments)}return T.apply(this,arguments)},g&&["install","uninstall"].forEach(k=>{let m=p[d(k)]=p[k];p[k]=function(){if(n.FakeAsyncTestZoneSpec){jasmine[d("clockInstalled")]=k==="install";return}return m.apply(this,arguments)}})}return p}}if(!jasmine[n.__symbol__("createSpyObj")]){let v=jasmine.createSpyObj;jasmine[n.__symbol__("createSpyObj")]=v,jasmine.createSpyObj=function(){let p=Array.prototype.slice.call(arguments),i=p.length>=3?p[2]:null,T;if(i){let k=Object.defineProperty;Object.defineProperty=function(m,F,M){return k.call(this,m,F,{...M,configurable:!0,enumerable:!0})};try{T=v.apply(this,p)}finally{Object.defineProperty=k}}else T=v.apply(this,p);return T}}function z(v,p){return function(){return _.fork(new u(`jasmine.describe#${v}`)).run(p,this,arguments)}}function R(v,p,i,T){let k=!!jasmine[d("clockInstalled")];i.testProxyZoneSpec;let m=i.testProxyZone;if(k&&g){let F=n[n.__symbol__("fakeAsyncTest")];F&&typeof F.fakeAsync=="function"&&(v=F.fakeAsync(v))}return T?m.run(v,p,[T]):m.run(v,p)}function w(v){return v&&(v.length?function(p){return R(v,this,this.queueRunner,p)}:function(){return R(v,this,this.queueRunner)})}let N=jasmine.QueueRunner;jasmine.QueueRunner=function(v){r(p,v);function p(i){i.onComplete&&(i.onComplete=(F=>()=>{this.testProxyZone=null,this.testProxyZoneSpec=null,_.scheduleMicroTask("jasmine.onComplete",F)})(i.onComplete));let T=e[n.__symbol__("setTimeout")],k=e[n.__symbol__("clearTimeout")];T&&(i.timeout={setTimeout:T||e.setTimeout,clearTimeout:k||e.clearTimeout}),jasmine.UserContext?(i.userContext||(i.userContext=new jasmine.UserContext),i.userContext.queueRunner=this):(i.userContext||(i.userContext={}),i.userContext.queueRunner=this);let m=i.onException;i.onException=function(F){if(F&&F.message==="Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL."){let M=this&&this.testProxyZoneSpec;if(M){let se=M.getAndClearPendingTasksInfo();try{F.message+=se}catch{}}}m&&m.call(this,F)},v.call(this,i)}return p.prototype.execute=function(){let i=n.current,T=!1;for(;i;){if(i===_){T=!0;break}i=i.parent}if(!T)throw new Error("Unexpected Zone: "+n.current.name);this.testProxyZoneSpec=new h,this.testProxyZone=_.fork(this.testProxyZoneSpec),n.currentTask?v.prototype.execute.call(this):n.current.scheduleMicroTask("jasmine.execute().forceTask",()=>N.prototype.execute.call(this))},p}(N)})}function wn(s){s.__load_patch("jest",(e,n,t)=>{if(typeof jest>"u"||jest.__zone_patch__)return;n[t.symbol("ignoreConsoleErrorUncaughtError")]=!0,jest.__zone_patch__=!0;let r=n.ProxyZoneSpec,u=n.SyncTestZoneSpec;if(!r)throw new Error("Missing ProxyZoneSpec");let h=n.current,_=h.fork(new u("jest.describe")),d=new r,P=h.fork(d);function g(R){return function(...w){let N=R.apply(this,w);return function(...v){return v[1]=O(v[1]),N.apply(this,v)}}}function I(R){return function(...w){return function(...N){return N[1]=z(N[1]),R.apply(this,w).apply(this,N)}}}function O(R){return function(...w){return _.run(R,this,w)}}function z(R,w=!1){if(typeof R!="function")return R;let N=function(){if(n[t.symbol("useFakeTimersCalled")]===!0&&R&&!R.isFakeAsync){let v=n[n.__symbol__("fakeAsyncTest")];v&&typeof v.fakeAsync=="function"&&(R=v.fakeAsync(R))}return d.isTestFunc=w,P.run(R,null,arguments)};return Object.defineProperty(N,"length",{configurable:!0,writable:!0,enumerable:!1}),N.length=R.length,N}["describe","xdescribe","fdescribe"].forEach(R=>{let w=e[R];e[n.__symbol__(R)]||(e[n.__symbol__(R)]=w,e[R]=function(...N){return N[1]=O(N[1]),w.apply(this,N)},e[R].each=g(w.each))}),e.describe.only=e.fdescribe,e.describe.skip=e.xdescribe,["it","xit","fit","test","xtest"].forEach(R=>{let w=e[R];e[n.__symbol__(R)]||(e[n.__symbol__(R)]=w,e[R]=function(...N){return N[1]=z(N[1],!0),w.apply(this,N)},e[R].each=I(w.each),e[R].todo=w.todo,e[R].failing=w.failing)}),e.it.only=e.fit,e.it.skip=e.xit,e.test.only=e.fit,e.test.skip=e.xit,["beforeEach","afterEach","beforeAll","afterAll"].forEach(R=>{let w=e[R];e[n.__symbol__(R)]||(e[n.__symbol__(R)]=w,e[R]=function(...N){return N[0]=z(N[0]),w.apply(this,N)})}),n.patchJestObject=function(w,N=!1){function v(){return!!n.current.get("FakeAsyncTestZoneSpec")}function p(){let i=n.current.get("ProxyZoneSpec");return i&&i.isTestFunc}w[t.symbol("fakeTimers")]||(w[t.symbol("fakeTimers")]=!0,t.patchMethod(w,"_checkFakeTimers",i=>function(T,k){return v()?!0:i.apply(T,k)}),t.patchMethod(w,"useFakeTimers",i=>function(T,k){return n[t.symbol("useFakeTimersCalled")]=!0,N||p()?i.apply(T,k):T}),t.patchMethod(w,"useRealTimers",i=>function(T,k){return n[t.symbol("useFakeTimersCalled")]=!1,N||p()?i.apply(T,k):T}),t.patchMethod(w,"setSystemTime",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");if(m&&v())m.setFakeBaseSystemTime(k[0]);else return i.apply(T,k)}),t.patchMethod(w,"getRealSystemTime",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");return m&&v()?m.getRealSystemTime():i.apply(T,k)}),t.patchMethod(w,"runAllTicks",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");if(m)m.flushMicrotasks();else return i.apply(T,k)}),t.patchMethod(w,"runAllTimers",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");if(m)m.flush(100,!0);else return i.apply(T,k)}),t.patchMethod(w,"advanceTimersByTime",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");if(m)m.tick(k[0]);else return i.apply(T,k)}),t.patchMethod(w,"runOnlyPendingTimers",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");if(m)m.flushOnlyPendingTimers();else return i.apply(T,k)}),t.patchMethod(w,"advanceTimersToNextTimer",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");if(m)m.tickToNext(k[0]);else return i.apply(T,k)}),t.patchMethod(w,"clearAllTimers",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");if(m)m.removeAllTimers();else return i.apply(T,k)}),t.patchMethod(w,"getTimerCount",i=>function(T,k){let m=n.current.get("FakeAsyncTestZoneSpec");return m?m.getTimerCount():i.apply(T,k)}))}})}function Sn(s){s.__load_patch("mocha",(e,n)=>{let t=e.Mocha;if(typeof t>"u")return;if(typeof n>"u")throw new Error("Missing Zone.js");let r=n.ProxyZoneSpec,u=n.SyncTestZoneSpec;if(!r)throw new Error("Missing ProxyZoneSpec");if(t.__zone_patch__)throw new Error('"Mocha" has already been patched with "Zone".');t.__zone_patch__=!0;let h=n.current,_=h.fork(new u("Mocha.describe")),d=null,P=h.fork(new r),g={after:e.after,afterEach:e.afterEach,before:e.before,beforeEach:e.beforeEach,describe:e.describe,it:e.it};function I(w,N,v){for(let p=0;p<w.length;p++){let i=w[p];typeof i=="function"&&(w[p]=i.length===0?N(i):v(i),w[p].toString=function(){return i.toString()})}return w}function O(w){return I(w,function(v){return function(){return _.run(v,this,arguments)}})}function z(w){return I(w,function(p){return function(){return d.run(p,this)}},function(p){return function(i){return d.run(p,this,[i])}})}function R(w){return I(w,function(p){return function(){return P.run(p,this)}},function(p){return function(i){return P.run(p,this,[i])}})}e.describe=e.suite=function(){return g.describe.apply(this,O(arguments))},e.xdescribe=e.suite.skip=e.describe.skip=function(){return g.describe.skip.apply(this,O(arguments))},e.describe.only=e.suite.only=function(){return g.describe.only.apply(this,O(arguments))},e.it=e.specify=e.test=function(){return g.it.apply(this,z(arguments))},e.xit=e.xspecify=e.it.skip=function(){return g.it.skip.apply(this,z(arguments))},e.it.only=e.test.only=function(){return g.it.only.apply(this,z(arguments))},e.after=e.suiteTeardown=function(){return g.after.apply(this,R(arguments))},e.afterEach=e.teardown=function(){return g.afterEach.apply(this,z(arguments))},e.before=e.suiteSetup=function(){return g.before.apply(this,R(arguments))},e.beforeEach=e.setup=function(){return g.beforeEach.apply(this,z(arguments))},((w,N)=>{t.Runner.prototype.runTest=function(v){n.current.scheduleMicroTask("mocha.forceTask",()=>{w.call(this,v)})},t.Runner.prototype.run=function(v){return this.on("test",p=>{d=h.fork(new r)}),this.on("fail",(p,i)=>{let T=d&&d.get("ProxyZoneSpec");if(T&&i)try{i.message+=T.getAndClearPendingTasksInfo()}catch{}}),N.call(this,v)}})(t.Runner.prototype.runTest,t.Runner.prototype.run)})}var Pn=globalThis;function Lt(s){return(Pn.__Zone_symbol_prefix||"__zone_symbol__")+s}var Cn=typeof window<"u"&&window||typeof self<"u"&&self||global,_t=class s{finishCallback;failCallback;static get symbolParentUnresolved(){return Lt("parentUnresolved")}_pendingMicroTasks=!1;_pendingMacroTasks=!1;_alreadyErrored=!1;_isSync=!1;_existingFinishTimer=null;entryFunction=null;runZone=Zone.current;unresolvedChainedPromiseCount=0;supportWaitUnresolvedChainedPromise=!1;constructor(e,n,t){this.finishCallback=e,this.failCallback=n,this.name="asyncTestZone for "+t,this.properties={AsyncTestZoneSpec:this},this.supportWaitUnresolvedChainedPromise=Cn[Lt("supportWaitUnResolvedChainedPromise")]===!0}isUnresolvedChainedPromisePending(){return this.unresolvedChainedPromiseCount>0}_finishCallbackIfDone(){this._existingFinishTimer!==null&&(clearTimeout(this._existingFinishTimer),this._existingFinishTimer=null),this._pendingMicroTasks||this._pendingMacroTasks||this.supportWaitUnresolvedChainedPromise&&this.isUnresolvedChainedPromisePending()||this.runZone.run(()=>{this._existingFinishTimer=setTimeout(()=>{!this._alreadyErrored&&!(this._pendingMicroTasks||this._pendingMacroTasks)&&this.finishCallback()},0)})}patchPromiseForTest(){if(!this.supportWaitUnresolvedChainedPromise)return;let e=Promise[Zone.__symbol__("patchPromiseForTest")];e&&e()}unPatchPromiseForTest(){if(!this.supportWaitUnresolvedChainedPromise)return;let e=Promise[Zone.__symbol__("unPatchPromiseForTest")];e&&e()}name;properties;onScheduleTask(e,n,t,r){return r.type!=="eventTask"&&(this._isSync=!1),r.type==="microTask"&&r.data&&r.data instanceof Promise&&r.data[s.symbolParentUnresolved]===!0&&this.unresolvedChainedPromiseCount--,e.scheduleTask(t,r)}onInvokeTask(e,n,t,r,u,h){return r.type!=="eventTask"&&(this._isSync=!1),e.invokeTask(t,r,u,h)}onCancelTask(e,n,t,r){return r.type!=="eventTask"&&(this._isSync=!1),e.cancelTask(t,r)}onInvoke(e,n,t,r,u,h,_){this.entryFunction||(this.entryFunction=r);try{return this._isSync=!0,e.invoke(t,r,u,h,_)}finally{this._isSync&&this.entryFunction===r&&this._finishCallbackIfDone()}}onHandleError(e,n,t,r){return e.handleError(t,r)&&(this.failCallback(r),this._alreadyErrored=!0),!1}onHasTask(e,n,t,r){e.hasTask(t,r),n===t&&(r.change=="microTask"?(this._pendingMicroTasks=r.microTask,this._finishCallbackIfDone()):r.change=="macroTask"&&(this._pendingMacroTasks=r.macroTask,this._finishCallbackIfDone()))}};function Mn(s){s.AsyncTestZoneSpec=_t,s.__load_patch("asynctest",(e,n,t)=>{n[t.symbol("asyncTest")]=function(h){return e.jasmine?function(_){_||(_=function(){},_.fail=function(d){throw d}),r(h,this,_,d=>{if(typeof d=="string")return _.fail(new Error(d));_.fail(d)})}:function(){return new Promise((_,d)=>{r(h,this,_,d)})}};function r(u,h,_,d){let P=n.current,g=n.AsyncTestZoneSpec;if(g===void 0)throw new Error("AsyncTestZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/async-test");let I=n.ProxyZoneSpec;if(!I)throw new Error("ProxyZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/proxy");let O=I.get();I.assertPresent();let z=n.current.getZoneWith("ProxyZoneSpec"),R=O.getDelegate();return z.parent.run(()=>{let w=new g(()=>{O.getDelegate()==w&&O.setDelegate(R),w.unPatchPromiseForTest(),P.run(()=>{_()})},N=>{O.getDelegate()==w&&O.setDelegate(R),w.unPatchPromiseForTest(),P.run(()=>{d(N)})},"test");O.setDelegate(w),w.patchPromiseForTest()}),n.current.runGuarded(u,h)}})}var le=typeof window=="object"&&window||typeof self=="object"&&self||globalThis.global,Ze=le.Date;function Ne(){if(arguments.length===0){let s=new Ze;return s.setTime(Ne.now()),s}else{let s=Array.prototype.slice.call(arguments);return new Ze(...s)}}Ne.now=function(){let s=Zone.current.get("FakeAsyncTestZoneSpec");return s?s.getFakeSystemTime():Ze.now.apply(this,arguments)};Ne.UTC=Ze.UTC;Ne.parse=Ze.parse;var Me,On=function(){},We=(()=>{class s{static nextNodeJSId=1;static nextId=-1;_schedulerQueue=[];_currentTickTime=0;_currentFakeBaseSystemTime=Ze.now();_currentTickRequeuePeriodicEntries=[];constructor(){}static getNextId(){let n=Me.nativeSetTimeout.call(le,On,0);return Me.nativeClearTimeout.call(le,n),typeof n=="number"?n:s.nextNodeJSId++}getCurrentTickTime(){return this._currentTickTime}getFakeSystemTime(){return this._currentFakeBaseSystemTime+this._currentTickTime}setFakeBaseSystemTime(n){this._currentFakeBaseSystemTime=n}getRealSystemTime(){return Ze.now()}scheduleFunction(n,t,r){r={args:[],isPeriodic:!1,isRequestAnimationFrame:!1,id:-1,isRequeuePeriodic:!1,...r};let u=r.id<0?s.nextId:r.id;s.nextId=s.getNextId();let _={endTime:this._currentTickTime+t,id:u,func:n,args:r.args,delay:t,isPeriodic:r.isPeriodic,isRequestAnimationFrame:r.isRequestAnimationFrame};r.isRequeuePeriodic&&this._currentTickRequeuePeriodicEntries.push(_);let d=0;for(;d<this._schedulerQueue.length;d++){let P=this._schedulerQueue[d];if(_.endTime<P.endTime)break}return this._schedulerQueue.splice(d,0,_),u}removeScheduledFunctionWithId(n){for(let t=0;t<this._schedulerQueue.length;t++)if(this._schedulerQueue[t].id==n){this._schedulerQueue.splice(t,1);break}}removeAll(){this._schedulerQueue=[]}getTimerCount(){return this._schedulerQueue.length}tickToNext(n=1,t,r){if(this._schedulerQueue.length<n)return;let u=this._currentTickTime,h=this._schedulerQueue[n-1];this.tick(h.endTime-u,t,r)}tick(n=0,t,r){let u=this._currentTickTime+n,h=0;r=Object.assign({processNewMacroTasksSynchronously:!0},r);let _=r.processNewMacroTasksSynchronously?this._schedulerQueue:this._schedulerQueue.slice();if(_.length===0&&t){t(n);return}for(;_.length>0;){this._currentTickRequeuePeriodicEntries=[];let d=_[0];if(u<d.endTime)break;{let P=_.shift();if(!r.processNewMacroTasksSynchronously){let I=this._schedulerQueue.indexOf(P);I>=0&&this._schedulerQueue.splice(I,1)}if(h=this._currentTickTime,this._currentTickTime=P.endTime,t&&t(this._currentTickTime-h),!P.func.apply(le,P.isRequestAnimationFrame?[this._currentTickTime]:P.args))break;r.processNewMacroTasksSynchronously||this._currentTickRequeuePeriodicEntries.forEach(I=>{let O=0;for(;O<_.length;O++){let z=_[O];if(I.endTime<z.endTime)break}_.splice(O,0,I)})}}h=this._currentTickTime,this._currentTickTime=u,t&&t(this._currentTickTime-h)}flushOnlyPendingTimers(n){if(this._schedulerQueue.length===0)return 0;let t=this._currentTickTime,r=this._schedulerQueue[this._schedulerQueue.length-1];return this.tick(r.endTime-t,n,{processNewMacroTasksSynchronously:!1}),this._currentTickTime-t}flush(n=20,t=!1,r){return t?this.flushPeriodic(r):this.flushNonPeriodic(n,r)}flushPeriodic(n){if(this._schedulerQueue.length===0)return 0;let t=this._currentTickTime,r=this._schedulerQueue[this._schedulerQueue.length-1];return this.tick(r.endTime-t,n),this._currentTickTime-t}flushNonPeriodic(n,t){let r=this._currentTickTime,u=0,h=0;for(;this._schedulerQueue.length>0;){if(h++,h>n)throw new Error("flush failed after reaching the limit of "+n+" tasks. Does your code use a polling timeout?");if(this._schedulerQueue.filter(P=>!P.isPeriodic&&!P.isRequestAnimationFrame).length===0)break;let _=this._schedulerQueue.shift();if(u=this._currentTickTime,this._currentTickTime=_.endTime,t&&t(this._currentTickTime-u),!_.func.apply(le,_.args))break}return this._currentTickTime-r}}return s})(),yt=class s{trackPendingRequestAnimationFrame;macroTaskOptions;static assertInZone(){if(Zone.current.get("FakeAsyncTestZoneSpec")==null)throw new Error("The code should be running in the fakeAsync zone to call this function")}_scheduler=new We;_microtasks=[];_lastError=null;_uncaughtPromiseErrors=Promise[Zone.__symbol__("uncaughtPromiseErrors")];pendingPeriodicTimers=[];pendingTimers=[];patchDateLocked=!1;constructor(e,n=!1,t){this.trackPendingRequestAnimationFrame=n,this.macroTaskOptions=t,this.name="fakeAsyncTestZone for "+e,this.macroTaskOptions||(this.macroTaskOptions=le[Zone.__symbol__("FakeAsyncTestMacroTask")])}_fnAndFlush(e,n){return(...t)=>(e.apply(le,t),this._lastError===null?(n.onSuccess!=null&&n.onSuccess.apply(le),this.flushMicrotasks()):n.onError!=null&&n.onError.apply(le),this._lastError===null)}static _removeTimer(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}_dequeueTimer(e){return()=>{s._removeTimer(this.pendingTimers,e)}}_requeuePeriodicTimer(e,n,t,r){return()=>{this.pendingPeriodicTimers.indexOf(r)!==-1&&this._scheduler.scheduleFunction(e,n,{args:t,isPeriodic:!0,id:r,isRequeuePeriodic:!0})}}_dequeuePeriodicTimer(e){return()=>{s._removeTimer(this.pendingPeriodicTimers,e)}}_setTimeout(e,n,t,r=!0){let u=this._dequeueTimer(We.nextId),h=this._fnAndFlush(e,{onSuccess:u,onError:u}),_=this._scheduler.scheduleFunction(h,n,{args:t,isRequestAnimationFrame:!r});return r&&this.pendingTimers.push(_),_}_clearTimeout(e){s._removeTimer(this.pendingTimers,e),this._scheduler.removeScheduledFunctionWithId(e)}_setInterval(e,n,t){let r=We.nextId,u={onSuccess:null,onError:this._dequeuePeriodicTimer(r)},h=this._fnAndFlush(e,u);return u.onSuccess=this._requeuePeriodicTimer(h,n,t,r),this._scheduler.scheduleFunction(h,n,{args:t,isPeriodic:!0}),this.pendingPeriodicTimers.push(r),r}_clearInterval(e){s._removeTimer(this.pendingPeriodicTimers,e),this._scheduler.removeScheduledFunctionWithId(e)}_resetLastErrorAndThrow(){let e=this._lastError||this._uncaughtPromiseErrors[0];throw this._uncaughtPromiseErrors.length=0,this._lastError=null,e}getCurrentTickTime(){return this._scheduler.getCurrentTickTime()}getFakeSystemTime(){return this._scheduler.getFakeSystemTime()}setFakeBaseSystemTime(e){this._scheduler.setFakeBaseSystemTime(e)}getRealSystemTime(){return this._scheduler.getRealSystemTime()}static patchDate(){le[Zone.__symbol__("disableDatePatching")]||le.Date!==Ne&&(le.Date=Ne,Ne.prototype=Ze.prototype,s.checkTimerPatch())}static resetDate(){le.Date===Ne&&(le.Date=Ze)}static checkTimerPatch(){if(!Me)throw new Error("Expected timers to have been patched.");le.setTimeout!==Me.setTimeout&&(le.setTimeout=Me.setTimeout,le.clearTimeout=Me.clearTimeout),le.setInterval!==Me.setInterval&&(le.setInterval=Me.setInterval,le.clearInterval=Me.clearInterval)}lockDatePatch(){this.patchDateLocked=!0,s.patchDate()}unlockDatePatch(){this.patchDateLocked=!1,s.resetDate()}tickToNext(e=1,n,t={processNewMacroTasksSynchronously:!0}){e<=0||(s.assertInZone(),this.flushMicrotasks(),this._scheduler.tickToNext(e,n,t),this._lastError!==null&&this._resetLastErrorAndThrow())}tick(e=0,n,t={processNewMacroTasksSynchronously:!0}){s.assertInZone(),this.flushMicrotasks(),this._scheduler.tick(e,n,t),this._lastError!==null&&this._resetLastErrorAndThrow()}flushMicrotasks(){s.assertInZone();let e=()=>{(this._lastError!==null||this._uncaughtPromiseErrors.length)&&this._resetLastErrorAndThrow()};for(;this._microtasks.length>0;){let n=this._microtasks.shift();n.func.apply(n.target,n.args)}e()}flush(e,n,t){s.assertInZone(),this.flushMicrotasks();let r=this._scheduler.flush(e,n,t);return this._lastError!==null&&this._resetLastErrorAndThrow(),r}flushOnlyPendingTimers(e){s.assertInZone(),this.flushMicrotasks();let n=this._scheduler.flushOnlyPendingTimers(e);return this._lastError!==null&&this._resetLastErrorAndThrow(),n}removeAllTimers(){s.assertInZone(),this._scheduler.removeAll(),this.pendingPeriodicTimers=[],this.pendingTimers=[]}getTimerCount(){return this._scheduler.getTimerCount()+this._microtasks.length}name;properties={FakeAsyncTestZoneSpec:this};onScheduleTask(e,n,t,r){switch(r.type){case"microTask":let u=r.data&&r.data.args,h;if(u){let _=r.data.cbIdx;typeof u.length=="number"&&u.length>_+1&&(h=Array.prototype.slice.call(u,_+1))}this._microtasks.push({func:r.invoke,args:h,target:r.data&&r.data.target});break;case"macroTask":switch(r.source){case"setTimeout":r.data.handleId=this._setTimeout(r.invoke,r.data.delay,Array.prototype.slice.call(r.data.args,2));break;case"setImmediate":r.data.handleId=this._setTimeout(r.invoke,0,Array.prototype.slice.call(r.data.args,1));break;case"setInterval":r.data.handleId=this._setInterval(r.invoke,r.data.delay,Array.prototype.slice.call(r.data.args,2));break;case"XMLHttpRequest.send":throw new Error("Cannot make XHRs from within a fake async test. Request URL: "+r.data.url);case"requestAnimationFrame":case"webkitRequestAnimationFrame":case"mozRequestAnimationFrame":r.data.handleId=this._setTimeout(r.invoke,16,r.data.args,this.trackPendingRequestAnimationFrame);break;default:let _=this.findMacroTaskOption(r);if(_){let d=r.data&&r.data.args,P=d&&d.length>1?d[1]:0,g=_.callbackArgs?_.callbackArgs:d;_.isPeriodic?(r.data.handleId=this._setInterval(r.invoke,P,g),r.data.isPeriodic=!0):r.data.handleId=this._setTimeout(r.invoke,P,g);break}throw new Error("Unknown macroTask scheduled in fake async test: "+r.source)}break;case"eventTask":r=e.scheduleTask(t,r);break}return r}onCancelTask(e,n,t,r){switch(r.source){case"setTimeout":case"requestAnimationFrame":case"webkitRequestAnimationFrame":case"mozRequestAnimationFrame":return this._clearTimeout(r.data.handleId);case"setInterval":return this._clearInterval(r.data.handleId);default:let u=this.findMacroTaskOption(r);if(u){let h=r.data.handleId;return u.isPeriodic?this._clearInterval(h):this._clearTimeout(h)}return e.cancelTask(t,r)}}onInvoke(e,n,t,r,u,h,_){try{return s.patchDate(),e.invoke(t,r,u,h,_)}finally{this.patchDateLocked||s.resetDate()}}findMacroTaskOption(e){if(!this.macroTaskOptions)return null;for(let n=0;n<this.macroTaskOptions.length;n++){let t=this.macroTaskOptions[n];if(t.source===e.source)return t}return null}onHandleError(e,n,t,r){return this._lastError=r,!1}},Te=null;function et(){return Zone&&Zone.ProxyZoneSpec}var Ke=null,Ht=null;function Ut(){Te&&Te.unlockDatePatch(),Te=null,et()?.get()?.resetDelegate(),Ke?.resetDelegate()}function Rn(s,e={}){let{flush:n=!0}=e,t=function(...r){let u=et();if(!u)throw new Error("ProxyZoneSpec is needed for the fakeAsync() test helper but could not be found. Make sure that your environment includes zone-testing.js");let h=u.assertPresent();if(Zone.current.get("FakeAsyncTestZoneSpec"))throw new Error("fakeAsync() calls can not be nested");try{if(!Te){let P=Zone&&Zone.FakeAsyncTestZoneSpec;if(h.getDelegate()instanceof P)throw new Error("fakeAsync() calls can not be nested");Te=new P}let _,d=h.getDelegate();h.setDelegate(Te),Te.lockDatePatch();try{_=s.apply(this,r),n?Te.flush(20,!0):qt()}finally{h.setDelegate(d)}if(!n){if(Te.pendingPeriodicTimers.length>0)throw new Error(`${Te.pendingPeriodicTimers.length} periodic timer(s) still in the queue.`);if(Te.pendingTimers.length>0)throw new Error(`${Te.pendingTimers.length} timer(s) still in the queue.`)}return _}finally{Ut()}};return t.isFakeAsync=!0,t}function tt(){if(Te==null&&(Te=Zone.current.get("FakeAsyncTestZoneSpec"),Te==null))throw new Error("The code should be running in the fakeAsync zone to call this function");return Te}function An(s=0,e=!1){tt().tick(s,null,e)}function In(s){return tt().flush(s)}function Dn(){let s=tt();s.pendingPeriodicTimers,s.pendingPeriodicTimers.length=0}function Zn(s){return function(...n){let t=et();if(t===void 0)throw new Error("ProxyZoneSpec is needed for the withProxyZone() test helper but could not be found. Make sure that your environment includes zone-testing.js");return(t.get()!==void 0?Zone.current:Fn()).run(s,this,n)}}function Fn(){let s=et();if(s===void 0)throw new Error("ProxyZoneSpec is needed for withProxyZone but could not be found. Make sure that your environment includes zone-testing.js");return Ke===null&&(Ke=new s),Ht=Zone.root.fork(Ke),Ht}function qt(){tt().flushMicrotasks()}function jn(s){s.FakeAsyncTestZoneSpec=yt,s.__load_patch("fakeasync",(e,n,t)=>{n[t.symbol("fakeAsyncTest")]={resetFakeAsyncZone:Ut,flushMicrotasks:qt,discardPeriodicTasks:Dn,tick:An,flush:In,fakeAsync:Rn,withProxyZone:Zn}},!0),Me={setTimeout:le.setTimeout,setInterval:le.setInterval,clearTimeout:le.clearTimeout,clearInterval:le.clearInterval,nativeSetTimeout:le[s.__symbol__("setTimeout")],nativeClearTimeout:le[s.__symbol__("clearTimeout")]},We.nextId=We.getNextId()}function xn(s){let e=`
`,n={},t="__creationTrace__",r="STACKTRACE TRACKING",u="__SEP_TAG__",h=u+"@[native]";class _{error=O();timestamp=new Date}function d(){return new Error(r)}function P(){try{throw d()}catch(i){return i}}let g=d(),I=P(),O=g.stack?d:I.stack?P:d;function z(i){return i.stack?i.stack.split(e):[]}function R(i,T){let k=z(T);for(let m=0;m<k.length;m++){let F=k[m];n.hasOwnProperty(F)||i.push(k[m])}}function w(i,T){let k=[T?T.trim():""];if(i){let m=new Date().getTime();for(let F=0;F<i.length;F++){let M=i[F],se=M.timestamp,B=`____________________Elapsed ${m-se.getTime()} ms; At: ${se}`;B=B.replace(/[^\w\d]/g,"_"),k.push(h.replace(u,B)),R(k,M.error),m=se.getTime()}}return k.join(e)}function N(){return Error.stackTraceLimit>0}s.longStackTraceZoneSpec={name:"long-stack-trace",longStackTraceLimit:10,getLongStackTrace:function(i){if(!i)return;let T=i[s.__symbol__("currentTaskTrace")];return T?w(T,i.stack):i.stack},onScheduleTask:function(i,T,k,m){if(N()){let F=s.currentTask,M=F&&F.data&&F.data[t]||[];M=[new _].concat(M),M.length>this.longStackTraceLimit&&(M.length=this.longStackTraceLimit),m.data||(m.data={}),m.type==="eventTask"&&(m.data={...m.data}),m.data[t]=M}return i.scheduleTask(k,m)},onHandleError:function(i,T,k,m){if(N()){let F=s.currentTask||m.task;if(m instanceof Error&&F){let M=w(F.data&&F.data[t],m.stack);try{m.stack=m.longStack=M}catch{}}}return i.handleError(k,m)}};function v(i,T){T>0&&(i.push(z(new _().error)),v(i,T-1))}function p(){if(!N())return;let i=[];v(i,2);let T=i[0],k=i[1];for(let m=0;m<T.length;m++){let F=T[m];if(F.indexOf(r)==-1){let M=F.match(/^\s*at\s+/);if(M){h=M[0]+u+" (http://localhost)";break}}}for(let m=0;m<T.length;m++){let F=T[m],M=k[m];if(F===M)n[F]=!0;else break}}p()}var Tt=class s{defaultSpecDelegate;name="ProxyZone";_delegateSpec=null;properties={ProxyZoneSpec:this};propertyKeys=null;lastTaskState=null;isNeedToTriggerHasTask=!1;tasks=[];static get(){return Zone.current.get("ProxyZoneSpec")}static isLoaded(){return s.get()instanceof s}static assertPresent(){let e=s.get();if(e===void 0)throw new Error("Expected to be running in 'ProxyZone', but it was not found.");return e}constructor(e=null){this.defaultSpecDelegate=e,this.setDelegate(e)}setDelegate(e){let n=this._delegateSpec!==e;this._delegateSpec=e,this.propertyKeys&&this.propertyKeys.forEach(t=>delete this.properties[t]),this.propertyKeys=null,e&&e.properties&&(this.propertyKeys=Object.keys(e.properties),this.propertyKeys.forEach(t=>this.properties[t]=e.properties[t])),n&&this.lastTaskState&&(this.lastTaskState.macroTask||this.lastTaskState.microTask)&&(this.isNeedToTriggerHasTask=!0)}getDelegate(){return this._delegateSpec}resetDelegate(){this.getDelegate(),this.setDelegate(this.defaultSpecDelegate)}tryTriggerHasTask(e,n,t){this.isNeedToTriggerHasTask&&this.lastTaskState&&(this.isNeedToTriggerHasTask=!1,this.onHasTask(e,n,t,this.lastTaskState))}removeFromTasks(e){if(this.tasks){for(let n=0;n<this.tasks.length;n++)if(this.tasks[n]===e){this.tasks.splice(n,1);return}}}getAndClearPendingTasksInfo(){if(this.tasks.length===0)return"";let n="--Pending async tasks are: ["+this.tasks.map(t=>{let r=t.data&&Object.keys(t.data).map(u=>u+":"+t.data[u]).join(",");return`type: ${t.type}, source: ${t.source}, args: {${r}}`})+"]";return this.tasks=[],n}onFork(e,n,t,r){return this._delegateSpec&&this._delegateSpec.onFork?this._delegateSpec.onFork(e,n,t,r):e.fork(t,r)}onIntercept(e,n,t,r,u){return this._delegateSpec&&this._delegateSpec.onIntercept?this._delegateSpec.onIntercept(e,n,t,r,u):e.intercept(t,r,u)}onInvoke(e,n,t,r,u,h,_){return this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onInvoke?this._delegateSpec.onInvoke(e,n,t,r,u,h,_):e.invoke(t,r,u,h,_)}onHandleError(e,n,t,r){return this._delegateSpec&&this._delegateSpec.onHandleError?this._delegateSpec.onHandleError(e,n,t,r):e.handleError(t,r)}onScheduleTask(e,n,t,r){return r.type!=="eventTask"&&this.tasks.push(r),this._delegateSpec&&this._delegateSpec.onScheduleTask?this._delegateSpec.onScheduleTask(e,n,t,r):e.scheduleTask(t,r)}onInvokeTask(e,n,t,r,u,h){return r.type!=="eventTask"&&this.removeFromTasks(r),this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onInvokeTask?this._delegateSpec.onInvokeTask(e,n,t,r,u,h):e.invokeTask(t,r,u,h)}onCancelTask(e,n,t,r){return r.type!=="eventTask"&&this.removeFromTasks(r),this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onCancelTask?this._delegateSpec.onCancelTask(e,n,t,r):e.cancelTask(t,r)}onHasTask(e,n,t,r){this.lastTaskState=r,this._delegateSpec&&this._delegateSpec.onHasTask?this._delegateSpec.onHasTask(e,n,t,r):e.hasTask(t,r)}};function Nn(s){s.ProxyZoneSpec=Tt}function Ln(s){class e{runZone=s.current;constructor(t){this.name="syncTestZone for "+t}name;onScheduleTask(t,r,u,h){switch(h.type){case"microTask":case"macroTask":throw new Error(`Cannot call ${h.source} from within a sync test (${this.name}).`);case"eventTask":h=t.scheduleTask(u,h);break}return h}}s.SyncTestZoneSpec=e}function Hn(s){s.__load_patch("promisefortest",(e,n,t)=>{let r=t.symbol("state"),u=null,h=t.symbol("parentUnresolved");Promise[t.symbol("patchPromiseForTest")]=function(){let d=Promise[n.__symbol__("ZonePromiseThen")];d||(d=Promise[n.__symbol__("ZonePromiseThen")]=Promise.prototype.then,Promise.prototype.then=function(){let P=d.apply(this,arguments);if(this[r]===u){let g=n.current.get("AsyncTestZoneSpec");g&&(g.unresolvedChainedPromiseCount++,P[h]=!0)}return P})},Promise[t.symbol("unPatchPromiseForTest")]=function(){let d=Promise[n.__symbol__("ZonePromiseThen")];d&&(Promise.prototype.then=d,Promise[n.__symbol__("ZonePromiseThen")]=void 0)}})}function Un(s){xn(s),Nn(s),Ln(s),bn(s),wn(s),Sn(s),Mn(s),jn(s),Hn(s)}Un(Zone);window.global=window;
